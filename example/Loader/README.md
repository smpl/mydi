# Базовое знакомство с LoaderInterface

Объекты реализующие данный интерфейс позволяют сделать отложенную 
загрузку контейнеров, а также возможность использовать свой синтаксис, 
или способ хранения контейнера.

## Как работает
Любой загрузчик реализует интерфейс [LoaderInterface](../../src/LoaderInterface.php). 

В котором есть методы:

### isLodable

Сообщает может ли указанный контейнер быть загружен этим загрузчиком.

#### Аргументы:

**$containerName** - имя контейнера что надо загрузить. 

#### Возвращаемое значение: bool

true - Контейнер может быть загружен

false - Контейнер не может быть загружен

### get

Загружает контейнер, который передасться в **LocatorInterface**, чтобы 
впоследствие использовать его определение миную Loader.

#### Аргументы:

**$containerName** - имя контейнера что надо загрузить.

#### Возвращаемое значение: mixed

Это может быть как: int, bool, string, float, object, closure и тд 
(так и объекты с интерфейсом [ContainerInterface](../Container) которые 
обрабатываются по особенному

### getLoadableContainerNames

Возвращает список контейнеров что могут быть разрешенны этим загрузчиком.

Используется редко, в случае если у **LocatorInterface** запросили 
дерево зависимости

#### Возвращаемое значение

Массив строк с именами контейнеров что могут быть загружены.

## Как это работает ?
В конструктор **LocatorInterface** можно передать массив из загрузчиков 
которые могут быть использованны для получения запрощенного элемента.

Когда вы запрашиваете элемент (например: magic) у **LocatorInterface** 
он проверяет определен ли он уже, если не определен то **Locator** 
опрашивает каждый загрузчик (в порядке элементов в массиве) который 
ему был передан, сможет ли хоть один загрузчик загрузить 
элемент(isLoadable('magic')), если загрузчик сообщил что он знает как 
загружать элемент, то Locator просит его загрузить (get('magic')) и 
сохраняет к себе в хранилище.

Таким образом загружаются только необходимые элементы.

## Практический пример
В системе в стандартном варианте идет несколько загрузчиков, о 
каждом будет отдельно рассказано и показано, здесь я в качестве примера 
лишь покажу простой пример как создать \stdObject с параметрами для 
подключения к БД.

Также один загрузчик может использовать возможности другова загрузчика 
так как взаимодействие осуществляется через LocatorInterface

[LoaderTest](LoaderTest.php)

Описание использованных загрузчиков будет отдельно.

## Свои загрузчик
Легко можно расширить стандартную комплектацию реализовав свой удобный 
загрузчик который реализует интерфейс [LoaderInterface](../../src/LoaderInterface.php) 
я рекомендую именно так и расширять.

С помощью своего загрузчика можно изменить способ хранения и чтения 
зависимостей, например использовать анотации или хранить в декларативной 
конфигурации и тд.